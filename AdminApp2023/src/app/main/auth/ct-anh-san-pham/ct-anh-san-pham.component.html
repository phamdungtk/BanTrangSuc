<div class="app-content content">
    <div class="content-wrapper">
      <div class="content-wrapper-before"></div>
      <div class="content-header row">
        <div class="content-header-left col-md-4 col-12 mb-2">
			<button (click)="createModal()" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
				Thêm Ảnh Sản Phẩm
			</button>
        </div>
        <div class="content-header-right col-md-8 col-12">
          <div class="breadcrumbs-top float-md-right">
            <div class="breadcrumb-wrapper mr-1">
              	<ol class="breadcrumb">
                	<li class="breadcrumb-item"><a href="index.html">Trang Chủ</a>
                		</li>
                			<li class="breadcrumb-item active">Chi Tiết Ảnh
                		</li>
              		</ol>
            		</div>
          		</div>
        	</div>
      	</div>
		 <div class="card">
              <!-- /.card-header -->
            <div class="card-body">
                <table id="example1" class="table table-bordered table-striped">
					<thead>
						<tr style="text-align: center;">
							<th >STT</th>
							<th >Ảnh</th>
							<th >Ngày Thêm</th>
							<th >Ngày Sửa</th>                                  
							<th >Thao Tác</th>                             
						</tr>
					</thead>
					<tbody> 
						<tr *ngFor="let ur of list_ctanhsanpham index as i" style="text-align: center;">
							<td style="vertical-align: middle;">{{ i + 1 }}</td>
							<td style="vertical-align: middle;"><img [src]="ur.anh"
								style="width: 58px; height: 58px;" class="img-rounded" alt=""></td>
							<td style="vertical-align: middle;">{{ur.createdAt | date:'yyyy-MM-dd HH:mm:ss'}}</td>
							<td style="vertical-align: middle;">{{ur.updatedAt | date:'yyyy-MM-dd HH:mm:ss'}}</td>
							<td style="text-align: center; vertical-align: middle;"> 
								<div class="btn-group">
									<button type="button" [routerLink]="['/auth/san-pham']" class="btn btn-warning">Quay Lại</button>
									&nbsp;&nbsp;&nbsp;&nbsp; 
									<button type="button" class="btn btn-success"><i class="fa fa-cog"></i></button>
									<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
									</button>
									<div class="dropdown-menu"style="height: 108px; overflow: auto;" role="menu">
										<div class="dropdown-divider"></div>				
										<button class="dropdown-item" (click)="openUpdateModal(ur.maAnhChitiet)">Sửa</button>
										<div class="dropdown-divider"></div>
										<button class="dropdown-item" (click)="onRemove(ur.maAnhChitiet)">Xoá</button>
										<div class="dropdown-divider"></div>
									</div>
								</div>		
								    
							</td>                         
						</tr>                          
					</tbody>
                </table>
            </div>
              <!-- /.card-body -->
        </div>   
    </div>
</div>
<div *ngIf="showUpdateModal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" id="createsanphamModal">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
			</div>
			<hr>
			<form *ngIf="doneSetupForm" [formGroup]="frmCTAnhSanPham" (ngSubmit)="OnSubmit(frmCTAnhSanPham.value)"
				class="form-horizontal">
				<div class="modal-body" style="padding-left: 50px !important; padding-right:50px !important;">
                    <!-- <div class="form-group">
						<label class="col-lg-3 control-label">Tên Sản Phẩm</label>
                        <div class="col-lg-12 ">
                            <select formControlName="txt_masp" [(ngModel)]="maSanPham" #sel_sp (change)="change_sp(sel_sp.value)" class="form-control">
                                <option *ngFor="let sp of list_sanpham" [selected]="selectsp==sp.maSanPham?true:false" value="{{sp.maSanPham}}">{{sp.tenSanPham}}</option>
                            </select>
                        </div>                       
					</div> -->
					<div class="form-group">
						<label class="col-lg-3 control-label">Tên Sản Phẩm:</label>
						<div class="col-lg-12">
							<select formControlName="txt_masp" [(ngModel)]="msp" class="form-control">
								<option *ngFor="let sp of list_sanpham"  value="{{sp.maSanPham}}">{{sp.tenSanPham}}</option>
							</select>						
						</div>
					</div>
                    <div class="form-group">
						<label class="col-lg-3 control-label">Ảnh:</label>
						<div class="col-lg-12">
							<div class="media no-margin-top">
								<div class="media-left">
									<a><img
											[src]="ctanhsanpham && ctanhsanpham.anh?ctanhsanpham.anh:'assets/images/placeholder.jpg'"
											style="width: 58px; height: 58px;" class="img-rounded" alt=""></a>
								</div>

								<div class="media-body">
									<input formControlName="txt_anh" (change)="upload($event)"accept=".jpg,.png,.jpeg,.gif,.bmp,.tif,.tiff"
										type="file" class="file-styled">
									<span class="help-block">Accepted formats: gif, png, jpg. Max file size 2Mb</span>
								</div>
							</div>
						</div>
					</div>								
                    
				</div>
				<hr>
				<div class="modal-footer">
					<button type="button" class="btn btn-link" (click)="closeModal()">Đóng</button>
					<button type="submit" class="btn btn-primary" [disabled]="frmCTAnhSanPham.invalid">Lưu lại</button>
				</div>
			</form>
		</div>
	</div>
</div> 